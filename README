
ping死活監視をPHPの並列処理で処理するサンプル

(PHP 4 >= 4.1.0, PHP 5)
pcntl_fork()関数を使用する為、phpのconfigureオプションに --enable-pcntl が付けられてコンパイルされている必要があります。
また、phpがCLIやCGIモードでなければ動作しません。
-----------------------------

-----------------------------
■pingを飛ばしたいホストをping.datに改行区切りで記述
-----------------------------
ex)
# cat ping.dat
192.168.0.1
192.168.0.2
...

-----------------------------
■シェル上で実行
-----------------------------
# php thred_fork_ping.php

-----------------------------
■引数を変える事で並列数を指定
-----------------------------
ex) 20並列で処理を行う
# php thred_fork_ping.php 20
